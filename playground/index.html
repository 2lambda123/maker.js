<!DOCTYPE html>
<html>
<head>
    <title>Maker.js Playground</title>
	<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="../external/ace/ace.js"></script>
    <script src="../external/TKRequire/TKRequire.js"></script>
    <script src="../target/js/browser.maker.js"></script>
    <script src="playground.js"></script>
    <script>

        //need to call this to cache it once
        var makerjs = require('makerjs');

        function doEval() {
            var text = editor.getValue();

            var html = MakerJsPlayground.runJavaScriptGetHTML(text);

            document.getElementById('view').innerHTML = html;
        }


    </script>
    <style type="text/css" media="screen">
        body {
            overflow: hidden;
        }

        #editor {
            margin: 0;
            height: 300px;
        }
    </style>
</head>
<body onload="doEval()">

    <div id="view" style="border: 1px solid silver; min-height: 200px"></div>

<pre id="editor">
var makerjs = require('makerjs');
function Spiral(loops, startRadius, spacing) {
    if (spacing == 0) loops = 1;
    function revolution(r) {
        this.paths = {
            arc1: new makerjs.paths.Arc([0, 0], r, 0, 90),
            arc2: new makerjs.paths.Arc([0, -spacing], r + spacing, 90, 180),
            arc3: new makerjs.paths.Arc([2 * spacing, -spacing], r + 3 * spacing, 180, 270),
            arc4: new makerjs.paths.Arc([2 * spacing, 0], r + 4 * spacing, 270, 360)
        };
    }
    this.models = {};
    for (var i = 0; i < loops; i++) {
        this.models['loop' + i] = new revolution(startRadius + i * spacing * 6);
    }
}
Spiral.metaParameters = [
    { title: "loops", type: "range", min: 1, max: 60, step: 1, value: 9 },
    { title: "start radius", type: "range", min: 0, max: 50, step: .01, value: 0.33 },
    { title: "spacing", type: "range", min: 0, max: 5, step: .01, value: 1 }
];
module.exports = Spiral;
</pre>


    <script>
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/twilight");
        editor.session.setMode("ace/mode/javascript");
    </script>

    <button onclick="doEval()">Eval</button>

</body>
</html>
